<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>NovaShop</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:system-ui,-apple-system}
:root{
 --accent:#22c55e;
 --bg1:#0f172a;
 --bg2:#020617;
}
body{
 min-height:100vh;
 background:radial-gradient(circle at top,var(--bg1),var(--bg2));
 color:#fff;
}
header{text-align:center;margin:20px 0}
header img{width:64px;margin-bottom:10px}
.catalog{
 display:grid;
 grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
 gap:18px;
 padding:0 16px 100px;
}
.card{
 background:rgba(255,255,255,.07);
 border-radius:18px;
 overflow:hidden;
 backdrop-filter:blur(12px);
}
.card img{width:100%;height:140px;object-fit:cover}
.card-body{padding:12px}
.buy{
 width:100%;
 margin-top:8px;
 padding:10px;
 border:none;
 border-radius:12px;
 background:var(--accent);
 font-weight:600;
}
.nav{
 position:fixed;
 bottom:0;
 left:0;
 right:0;
 background:#020617;
 display:flex;
 justify-content:space-around;
 padding:12px 0;
}
.nav button{
 background:none;border:none;color:#94a3b8;font-weight:600;
}
.nav .active{color:var(--accent)}
</style>
</head>

<body>

<header>
  <img src="images/logo.png">
  <h1>NovaShop</h1>
</header>

<div class="catalog" id="catalog"></div>

<div class="nav">
  <button class="active">Магазин</button>
</div>

<script>
/* === ПРОВЕРКА TELEGRAM === */
const tg = window.Telegram?.WebApp;
if (!tg) {
  document.body.innerHTML =
   "<h2 style='text-align:center;margin-top:40px'>❌ Откройте магазин через Telegram</h2>";
  throw new Error("Not Telegram");
}
tg.expand();

/* === ТОВАРЫ === */
const products=[
 {name:"PS Plus Essential",price:499,img:"images/ps-essential.png"},
 {name:"PS Plus Extra",price:799,img:"images/ps-extra.png"},
 {name:"PS Plus Deluxe",price:1099,img:"images/ps-deluxe.png"},
 {name:"Steam 1000 ₽",price:1000,img:"images/steam-1000.png"},
 {name:"Steam 3000 ₽",price:3000,img:"images/steam-3000.png"},
 {name:"Xbox Game Pass",price:899,img:"images/xbox-pass.png"}
];

const catalog=document.getElementById("catalog");

products.forEach(p=>{
 const c=document.createElement("div");
 c.className="card";
 c.innerHTML=`
  <img src="${p.img}">
  <div class="card-body">
   <h3>${p.name}</h3>
   <div>${p.price} ₽</div>
   <button class="buy">Купить</button>
  </div>`;
 c.querySelector("button").onclick=()=>{
   tg.sendData(JSON.stringify(p));
   tg.HapticFeedback.impactOccurred("medium");
 };
 catalog.appendChild(c);
});
</script>

</body>
</html>
